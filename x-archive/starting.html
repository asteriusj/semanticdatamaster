<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Getting started with JSON Form</title>
    <link rel="stylesheet" style="text/css" href="deps/opt/bootstrap.css" />
    
    <!--<script type="application/json" src="json/defaultschema.json"></script>-->
    <script type="application/ttl" src="owl/defaultontology.ttl"></script>

 
    <script type="text/javascript" src="deps/jquery.min.js"></script>
    <script type="text/javascript" src="deps/underscore.js"></script>
    <script type="text/javascript" src="deps/opt/jsv.js"></script>
    <script type="text/javascript" src="lib/jsonform.js"></script>

  </head>
  <body>
 
    
    
    <h1>My JSON Form</h1>
    <form></form>
    <div id="res" class="alert"></div>
    
 

    <script type="text/javascript" src="js/common.js"></script>
    <script>
    function doForm() {
      console.log('doForm')
      
      let schema0 = 
        {
          name: {
            type: 'string',
            title: 'Name',
            required: true
          },
          age: {
            type: 'number',
            title: 'Age'
          }
        } ;
        
      let schema1 = 
        {
          firstName: {
            type: 'string',
            title: 'First Name',
            required: true
          },
          lastName: {
            type: 'string',
            title: 'First Name',
            required: true
          },
          birthDay: {
            type: 'date',
            title: 'Birthday'
          }
        } ;

      let schema2 = {}
      let schema3 = {}
    
      console.log('mySchema',mySchema)
      var _schema = mySchema || schema1 ;
      console.log('_schema', _schema)
      
      $('form').jsonForm({
        schema: _schema,
        onSubmit: function (errors, values) {
          if (errors) {
            $('#res').html('<p>I beg your pardon?</p>');
          }
          else {
            var _name = name || firstName
            var _age = age || ""
            var _birth = birthDay || ""
            $('#res').html('<p>Hello ' + values.name  + values.firstName + '.' +
              (values.age ? '<br/>You are ' + values.age + '.' : '') +
              (values.birthDay ? '<br/>You are ' + values.age + '.' : '') +
              '</p>');
          }
        }
      });
      
    } // end doForm
    </script>
    
    
  </body>
</html>